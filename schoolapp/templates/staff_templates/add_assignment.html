{% extends 'staff_templates/base.html' %}
{% load static %}
{% block title %}Upload Assignment{% endblock %}
{% block main_content %}

<section class="content">
    <div class="container-fluid">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="card card-primary">
                <div class="card-header">
                    <h3 class="card-title">Upload Assignment</h3>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label>Title</label>
                        <input type="text" name="title" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea name="description" class="form-control" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Upload File</label>
                        <input type="file" name="file" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label>Class</label>
                        <select name="class_id" class="form-control" required>
                            {% for c in classes %}
                                <option value="{{ c.id }}">{{ c.class_name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Department</label>
                        <select name="department_id" class="form-control" required>
                            {% for d in departments %}
                                <option value="{{ d.id }}">{{ d.department_name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Subject</label>
                        <select name="subject_id" class="form-control" required>
                            {% for s in subjects %}
                                <option value="{{ s.id }}">{{ s.subject_name }}</option>
                           {% endfor %}
                        </select>
                    </div>

                    
                    <div class="form-group">
                        <label>Session Year</label>
                        <select name="session_year" class="form-control" required>
                            {% for s in sessions %}
                                <option value="{{ s.id }}">{{ s.session_start_year }} to {{ s.session_end_year }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Due Date</label>
                        <input type="datetime-local" name="due_date" class="form-control" required>
                    </div>
                </div>
                {% include 'admin_templates/verification_message.html' with user=user %}
                <div class="card-footer">
                    <button type="submit" class="btn btn-success btn-block">Upload Assignment</button>
                </div>
            </div>
        </form>
    </div>
</section>

{% endblock %}
